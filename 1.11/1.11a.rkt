#lang racket (require racket/trace)

(define (f n)

  (if (< n 3) n
   (+ (f (- n 1))
     (* 2 (f (- n 2)))
     (* 3 (f (- n 3))))))

(f 5)

; by hand :

; (+ (f (- 5 1)            ; -> 25
;    (* 2 (f (- 5 2)))  
;    (* 3 (f (- 5 3)))     
;
; (+ (f 4)                 ; -> 11
;    (* 2 (f 3))           ; -> 08  ; 25
 ;   (* 3 (f 2)))          ; -> 06  
;
; (+ (f (- 4 1))
;    (* 2 (f (- 4 2)))
;    (* 3 (f (- 4 3)))
;
; (+ (+ (f 3)              ; -> 04
;    (* 2 (f 2))           ; -> 04  ; 11
;    (* 3 (f 1)))          ; -> 03
;
; (+ (+ (f (- 3 1))
;       (* 2 (f (- 3 2)))
;       (* 3 (f (- 3 3)))
;
; (+ (+ (+ (f 2)           ; -> 02  
;          (* 2 (f 1))     ; -> 02  ; 04
;          (* 3 (f 0)))    ; -> 00
